openapi: 3.0.3
info:
  version: '81.0'
  title: 'KTCA(Kona Traffic Controller API)'
  description: |
    #### KTC API 컴포넌트
    
    | Component | URL | 설명 |
    | :---: | :---: | --- |
    | KTCA | `http://118.33.122.28:21002` | KTC API 처리 서버 |
    
    - `KTC` 트래픽 제어 대상 Zone 정보 관리
    - `KTC` 트래픽 제어 Zone 현황 모니터링  
    - WALLET, OracleDB 상태 수집기 `DBMT` 컴포넌트로부터 정보 제공받아 트래픽 허용 임계치 조절
    
    #### 관련문서
    
    - [KTC 기능정의서](https://konawiki.konai.com/pages/viewpage.action?pageId=386013831)
    - [KTC 프로젝트 Wiki](https://konawiki.konai.com/display/KonaCardDevelopment/KTC-APIs)
    
    #### 주요 정의
      
    | 명칭 | 의미 |
    | :---: | --- |
    | Zone | KTC 트래픽 제어를 위한 대상 |

servers:
  - url: http://118.33.122.28:21002

tags:
  - name: V1.Zone Management
  - name: V1.Zone Group Management
  - name: V1.Zone Monitoring
  - name: V1.Member Management

x-tagGroups:
  - name: KTC-API
    tags:
      - V1.Zone Management
      - V1.Zone Group Management
      - V1.Zone Monitoring
      - V1.Member Management

paths:
  /api/v1/zone:
    post:
      summary: 트래픽 제어 Zone 단일 등록
      tags:
        - V1.Zone Management
      operationId: createZone
      description: |
        트래픽 제어 Zone 등록<br>
        - 요청 `zoneId` 정보 미포함인 경우, `zoneId` 자체 생성하여 신규 등록 처리<br>
        - 요청 `zoneId` 정보 포함인 경우, 요청 `zoneId` 기준 신규 등록 처리<br>
      parameters:
        - $ref: '#/components/parameters/header-X-KTC-Member-Id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/V1CreateZoneRequest'
      responses:
        '200':
          description: 'Ok'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V1CreateZoneResponse'
        '400':
          description: |
            Failed

            | 코드 | 의미 |
            |:---:|---|
            | - | - |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/zone/{zoneId}:
    get:
      summary: 트래픽 제어 Zone 단일 조회
      tags:
        - V1.Zone Management
      operationId: findZone
      description: |
        트래픽 제어 Zone 정보 단일 조회
      parameters:
        - $ref: '#/components/parameters/path-zoneId'
      responses:
        '200':
          description: '성공'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V1FindZoneResponse'
        '400':
          description: |
            Failed

            | 코드 | 의미 |
            |:---:|---|
            | - | - |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    put:
      summary: 트래픽 제어 Zone 단일 수정
      tags:
        - V1.Zone Management
      operationId: updateZone
      description: |
        트래픽 제어 Zone 수정
      parameters:
        - $ref: '#/components/parameters/header-X-KTC-Member-Id'
        - $ref: '#/components/parameters/path-zoneId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/V1UpdateZoneRequest'
      responses:
        '200':
          description: 'Ok'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V1UpdateZoneResponse'
        '400':
          description: |
            Failed

            | 코드 | 의미 |
            |:---:|---|
            | - | - |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    delete:
      summary: 트래픽 제어 Zone 단일 삭제
      tags:
        - V1.Zone Management
      operationId: deleteZone
      description: |
        트래픽 제어 Zone 정보 단일 삭제
      parameters:
        - $ref: '#/components/parameters/header-X-KTC-Member-Id'
        - $ref: '#/components/parameters/path-zoneId'
      responses:
        '200':
          description: 'Ok'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V1DeleteZoneResponse'
        '400':
          description: |
            Failed

            | 코드 | 의미 |
            |:---:|---|
            | - | - |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/zone/list:
    get:
      summary: 트래픽 제어 Zone 목록 조회
      tags:
        - V1.Zone Management
      operationId: findZoneList
      description: |
        트래픽 제어 Zone 정보 목록 조회
      parameters:
        - $ref: '#/components/parameters/query-page'
        - $ref: '#/components/parameters/query-size'
        - $ref: '#/components/parameters/query-zoneId'
        - $ref: '#/components/parameters/query-groupId'
        - $ref: '#/components/parameters/query-zoneStatus'
      responses:
        '200':
          description: '성공'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V1FindAllZoneResponse'
        '400':
          description: |
            Failed

            | 코드 | 의미 |
            |:---:|---|
            | - | - |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/zone/cache/clear:
    post:
      summary: 트래픽 제어 Zone Cache 삭제
      tags:
        - V1.Zone Management
      operationId: clearZoneCache
      description: |
        요청 `zoneId` 기준 트래픽 제어 Zone Cache 정보 삭제 처리
      requestBody:
        required: false
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/V1ClearZoneCacheRequest'
      responses:
        '200':
          description: '성공'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V1ClearZoneCacheResponse'
        '400':
          description: |
            Failed

            | 코드 | 의미 |
            |:---:|---|
            | - | - |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/zone/group:
    post:
      summary: 트래픽 제어 Zone 그룹 단일 등록
      tags:
        - V1.Zone Group Management
      operationId: createZoneGroup
      description: |
        트래픽 제어 Zone 그룹 단일 등록
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/V1CreateZoneGroupRequest'
      responses:
        '200':
          description: 'Ok'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V1CreateZoneGroupResponse'
        '400':
          description: |
            Failed

            | 코드 | 의미 |
            |:---:|---|
            | - | - |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/zone/group/{groupId}:
    get:
      summary: 트래픽 제어 Zone 그룹 단일 조회
      tags:
        - V1.Zone Group Management
      operationId: findZoneGroup
      description: |
        트래픽 제어 Zone 그룹 정보 단일 조회
      parameters:
        - $ref: '#/components/parameters/path-groupId'
      responses:
        '200':
          description: '성공'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V1FindZoneGroupResponse'
        '400':
          description: |
            Failed

            | 코드 | 의미 |
            |:---:|---|
            | - | - |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    put:
      summary: 트래픽 제어 Zone 그룹 단일 수정
      tags:
        - V1.Zone Group Management
      operationId: updateZoneGroup
      description: |
        트래픽 제어 Zone 그룹 수정
      parameters:
        - $ref: '#/components/parameters/path-groupId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/V1UpdateZoneGroupRequest'
      responses:
        '200':
          description: 'Ok'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V1UpdateZoneGroupResponse'
        '400':
          description: |
            Failed

            | 코드 | 의미 |
            |:---:|---|
            | - | - |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    delete:
      summary: 트래픽 제어 Zone 그룹 단일 삭제
      tags:
        - V1.Zone Group Management
      operationId: deleteZoneGroup
      description: |
        트래픽 제어 Zone 그룹 단일 삭제
      parameters:
        - $ref: '#/components/parameters/path-groupId'
      responses:
        '200':
          description: 'Ok'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V1DeleteZoneGroupResponse'
        '400':
          description: |
            Failed

            | 코드 | 의미 |
            |:---:|---|
            | - | - |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/zone/group/list:
    get:
      summary: 트래픽 제어 Zone 그룹 목록 조회
      tags:
        - V1.Zone Group Management
      operationId: findZoneGroupList
      description: |
        트래픽 제어 Zone 그룹 목록 조회
      responses:
        '200':
          description: '성공'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V1FindZoneGroupListResponse'
        '400':
          description: |
            Failed

            | 코드 | 의미 |
            |:---:|---|
            | - | - |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/zone/monitoring:
    get:
      summary: 트래픽 제어 Zone 현황 조회
      tags:
        - V1.Zone Monitoring
      operationId: zoneMonitoring
      description: |
        트래픽 제어 Zone 트래픽 현황 조회
      parameters:
        - $ref: "#/components/parameters/query-zoneId"
        - $ref: "#/components/parameters/query-groupId"
      responses:
        '200':
          description: '성공'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V1ZoneMonitoringResponse'
        '400':
          description: |
            Failed

            | 코드 | 의미 |
            |:---:|---|
            | - | - |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/zone/monitoring/collect:
    post:
      summary: 트래픽 제어 Zone 현황 수집
      tags:
        - V1.Zone Monitoring
      operationId: collectZoneMonitoring
      description: |
        트래픽 제어 Zone 트래픽 현황 수집
      parameters:
        - $ref: "#/components/parameters/query-zoneId"
      responses:
        '200':
          description: '성공'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V1ZoneMonitoringResponse'
        '400':
          description: |
            Failed

            | 코드 | 의미 |
            |:---:|---|
            | - | - |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/member:
    post:
      summary: 관리자 정보 단일 등록
      tags:
        - V1.Member Management
      operationId: createMember
      description: |
        관리자 정보 단일 등록
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/V1CreateMemberRequest'
      responses:
        '200':
          description: '성공'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V1CreateMemberResponse'
        '400':
          description: |
            Failed

            | 코드 | 의미 |
            |:---:|---|
            | - | - |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    get:
      summary: 관리자 정보 단일 조회
      tags:
        - V1.Member Management
      operationId: findMember
      description: |
        관리자 정보 단일 조회
      parameters:
        - $ref: '#/components/parameters/query-memberId'
        - $ref: '#/components/parameters/query-loginId'
      responses:
        '200':
          description: '성공'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V1FindMemberResponse'
        '400':
          description: |
            Failed

            | 코드 | 의미 |
            |:---:|---|
            | - | - |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/member/list:
    get:
      summary: 관리자 정보 목록 조회
      tags:
        - V1.Member Management
      operationId: findMemberList
      description: |
        트래픽 제어 Zone 정보 목록 조회
      parameters:
        - $ref: '#/components/parameters/query-page'
        - $ref: '#/components/parameters/query-size'
        - $ref: '#/components/parameters/query-memberId'
        - $ref: '#/components/parameters/query-loginId'
        - $ref: '#/components/parameters/query-memberName'
        - $ref: '#/components/parameters/query-email'
        - $ref: '#/components/parameters/query-team'
        - $ref: '#/components/parameters/query-memberRole'
        - $ref: '#/components/parameters/query-zoneStatus'
      responses:
        '200':
          description: '성공'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V1FindAllMemberResponse'
        '400':
          description: |
            Failed

            | 코드 | 의미 |
            |:---:|---|
            | - | - |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/member/{memberId}:
    put:
      summary: 관리자 정보 단일 수정
      tags:
        - V1.Member Management
      operationId: updateMember
      description: |
        관리자 정보 단일 수정
      parameters:
        - $ref: '#/components/parameters/path-memberId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/V1UpdateMemberRequest'
      responses:
        '200':
          description: 'Ok'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V1UpdateMemberResponse'
        '400':
          description: |
            Failed

            | 코드 | 의미 |
            |:---:|---|
            | - | - |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/member/log/list:
    get:
      summary: 관리자 로그 목록 조회
      tags:
        - V1.Member Management
      operationId: findMemberLogList
      description: |
        관리자 로그 목록 조회
      parameters:
        - $ref: '#/components/parameters/header-X-KTC-Member-Id'
        - $ref: '#/components/parameters/query-page'
        - $ref: '#/components/parameters/query-size'
        - $ref: '#/components/parameters/query-startDate'
        - $ref: '#/components/parameters/query-endDate'
        - $ref: '#/components/parameters/query-memberLogType'
      responses:
        '200':
          description: '성공'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V1FindMemberLogListResponse'
        '400':
          description: |
            Failed

            | 코드 | 의미 |
            |:---:|---|
            | - | - |
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

components:
  parameters:
    ##### header
    header-X-KTC-Member-Id:
      in: header
      name: X-KTC-Member-Id
      required: false
      schema:
        type: integer
        format: int64
        description: 요청 관리자 ID
        example: 12345

    ##### path
    path-zoneId:
      in: path
      name: zoneId
      required: true
      schema:
        type: string
        example: 'KZ202504111730001234'
        description: |
          트래픽 제어 Zone 고유 식별 ID<br>
          `KCTA` 자체 생성 > `KZ + yyyyMMddHHmmss + random 4자리`

    path-memberId:
      in: path
      name: memberId
      required: true
      schema:
        type: integer
        format: int64
        example: 12345
        description: "관리자 ID"

    path-groupId:
      in: path
      name: groupId
      required: true
      schema:
        type: string
        example: "KG202504111730001234"
        description: "Zone 그룹 ID"

    ##### query
    query-page:
      in: query
      name: page
      required: false
      schema:
        type: integer
      example: 0
      description: Page 번호

    query-size:
      in: query
      name: size
      required: false
      schema:
        type: integer
      example: 10
      description: Page 크기

    query-startDate:
      in: query
      name: startDate
      required: false
      schema:
        type: string
      example: "20250615"
      description: 조회 시작 일자

    query-endDate:
      in: query
      name: endDate
      required: false
      schema:
        type: string
      example: "20250622"
      description: 조회 종료 일자

    query-zoneId:
      in: query
      name: zoneId
      required: false
      schema:
        type: string
      example: "KZ202504111730001234"
      description: |
        트래픽 제어 Zone 고유 식별 ID<br>
        `KCTA` 자체 생성 > `KZ + yyyyMMddHHmmss + random 4자리`

    query-zoneStatus:
      in: query
      name: status
      required: false
      schema:
        type: string
        enum: [ACTIVE, BLOCKED, DELETED, FAULTY_503]
      example: "ACTIVE"
      description: |
        Zone 상태
        | 구분 | 내용 |
        |:----:|----|
        | ACTIVE    | Zone 트래픽 제어 활성화 상태 |
        | BLOCKED   | Zone 트래픽 진입 전체 차단 상태 |
        | DELETED   | Zone 삭제 상태 |
        | FAULTY_503 | QA용 강제 503 응답 |

    query-memberId:
      in: query
      name: memberId
      required: false
      schema:
        type: integer
        format: int64
        example: 12345
        description: 관리자 ID

    query-loginId:
      in: query
      name: loginId
      required: false
      schema:
        type: string
        example: "admin"
        description: 로그인 ID

    query-memberName:
      in: query
      name: name
      required: false
      schema:
        type: string
        example: "관리자명"
        description: 이름

    query-email:
      in: query
      name: email
      required: false
      schema:
        type: string
        example: "hello@example.com"
        description: 이메일 정보

    query-team:
      in: query
      name: team
      required: false
      schema:
        type: string
        example: "소속 팀 명"
        description: 소속 팀

    query-memberRole:
      in: query
      name: role
      required: false
      schema:
        type: string
        example: "VIEWER"
        description: 역할

    query-memberStatus:
      in: query
      name: status
      required: false
      schema:
        type: string
        example: "ACTIVE"
        description: 상태

    query-memberLogType:
      in: query
      name: type
      required: false
      schema:
        type: string
        enum: [
          TRAFFIC_ZONE_CREATED,
          TRAFFIC_ZONE_UPDATED,
          TRAFFIC_ZONE_DELETED
        ]
      description: 관리자 로그 구분
      example: "TRAFFIC_ZONE_CREATED"

    query-groupId:
      in: query
      name: groupId
      required: false
      schema:
        type: string
      example: "KG202504111730001234"
      description: "Zone 그룹 ID"

  schemas:
    ##### common schema start
    first:
      type: boolean
      description: 첫 Page 여부
      example: true

    last:
      type: boolean
      description: 마지막 Page 여부
      example: false

    number:
      type: integer
      description: Page 번호
      example: 0

    numberOfElements:
      type: integer
      description: Page 당 항목 수
      example: 20

    size:
      type: integer
      description: Page 크기
      example: 10

    totalPages:
      type: integer
      description: 전체 페이징 수
      example: 10

    totalElements:
      type: integer
      format: int64
      description: 전체 항목 수
      example: 100

    pageable:
      type: object
      properties:
        first:
          $ref: '#/components/schemas/first'
        last:
          $ref: '#/components/schemas/last'
        number:
          $ref: '#/components/schemas/number'
        numberOfElements:
          $ref: '#/components/schemas/numberOfElements'
        size:
          $ref: '#/components/schemas/size'
        totalPages:
          $ref: '#/components/schemas/totalPages'
        totalElements:
          $ref: '#/components/schemas/totalElements'

    fromDate:
      type: string
      description: "시작일(yyyymmdd)"
      pattern: "^[0-9]*$"
      example: "20231011"

    toDate:
      type: string
      description: "종료일(yyyymmdd)"
      pattern: "^[0-9]*$"
      example: "20231011"

    created:
      type: string
      description: "생성일시(yyyymmddHH24miss)"
      pattern: "^[0-9]*$"
      example: "20231011155700"

    updated:
      type: string
      description: "수정일시(yyyymmddHH24miss)"
      pattern: "^[0-9]*$"
      example: "20231011155700"

    yyyyMMddHHmmss:
      type: string
      description: "yyyyMMddHHmmss"
      pattern: "^[0-9]*$"
      example: "20231011155700"

    yyyyMMdd:
      type: string
      description: "yyyyMMdd"
      pattern: "^[0-9]*$"
      minLength: 8
      maxLength: 8
      example: "20231011"

    ##### property schema start
    zoneId:
      type: string
      example: "KZ202504111730001234"
      description: |
        트래픽 제어 Zone 고유 식별 ID<br>
        `KCTA` 자체 생성 > `KZ + yyyyMMddHHmmss + random 4자리`

    zoneAlias:
      type: string
      description: Zone 별칭
      example: "KTC TEST ZONE"

    zoneStatus:
      type: string
      enum:
        - ACTIVE
        - BLOCKED
        - DELETED
        - FAULTY_503
      description: |
        Zone 상태
        | 구분 | 내용 |
        |:----:|----|
        | ACTIVE    | Zone 트래픽 제어 활성화 상태 |
        | BLOCKED   | Zone 트래픽 진입 전체 차단 상태 |
        | DELETED   | Zone 삭제 상태 |
        | FAULTY_503 | QA용 강제 503 응답 |
      example: "ACTIVE"

    updateZoneStatus:
      type: string
      enum:
        - ACTIVE
        - BLOCKED
        - FAULTY_503
      description: |
        Zone 상태
        | 구분 | 내용 |
        |:----:|----|
        | ACTIVE | Zone 트래픽 제어 활성화 상태 |
        | BLOCKED | Zone 트래픽 진입 전체 차단 상태 |
        | FAULTY_503 | QA용 강제 503 응답 |
      example: "ACTIVE"

    threshold:
      type: integer
      description: Zone 임계값
      example: 2000

    activationTime:
      type: string
      description: 트래픽 제어 Zone 활성화 시간(yyyyMMddHHmmss)
      example: "20250501000000"

    waitingCount:
      type: integer
      description: Zone 대기자 수
      example: 1500

    entryCount:
      type: integer
      description: Zone 진입자 수
      example: 1000

    estimatedClearTime:
      type: integer
      description: Zone 대기 해소 예상 시간
      example: 60000

    memberId:
      type: integer
      format: int64
      description: Member ID
      example: 12345

    loginId:
      type: string
      description: 로그인 ID
      example: "admin"

    memberName:
      type: string
      description: 이름
      example: "관리자명"

    password:
      type: string
      description: 비밀번호
      example: "password"

    email:
      type: string
      description: 이메일 정보
      example: "hello@example.com"

    team:
      type: string
      description: 소속 팀
      example: "소속 팀 명"

    memberRole:
      type: string
      enum:
        - ADMINISTRATOR
        - MANAGER
        - VIEWER
      description: |
        역할
        | 구분 | 내용 |
        |:----:|----|
        | ADMINISTRATOR | 최고 관리자 |
        | MANAGER | 중간 관리자 |
        | VIEWER | 일반(조회) 관리자 |
      example: "VIEWER"

    memberStatus:
      type: string
      enum:
        - ACTIVE
        - INACTIVE
        - DELETED
      description: |
        역할
        | 구분 | 내용 |
        |:----:|----|
        | ACTIVE | 활성화 상태 |
        | INACTIVE | 비활성화 상태 |
        | DELETED | 삭제 상태 |
      example: "ACTIVE"

    lastLoginAt:
      type: string
      description: 마지막 로그인 일시
      example: "20250619205030"

    memberLogType:
      type: string
      enum: [
        TRAFFIC_ZONE_CREATED,
        TRAFFIC_ZONE_UPDATED,
        TRAFFIC_ZONE_DELETED
      ]
      description: 관리자 로그 구분
      example: "TRAFFIC_ZONE_CREATED"

    zoneGroupId:
      type: string
      description: 그룹 ID
      example: "KG202504111730001234"

    zoneGroupName:
      type: string
      description: 그룹명
      example: "그룹명"

    zoneGroupOrder:
      type: integer
      description: 그룹 순서
      example: 1

    zoneGroupStatus:
      type: string
      enum: [
        ACTIVE,
        DELETED
      ]
      description: 그룹 상태
      example: "ACTIVE"

    ##### api dto start
    ResultResponse:
      type: object
      properties:
        status:
          type: string
          description: 응답 결과 상태
          default: SUCCESS
        code:
          type: string
          description: 에러 코드
          default: null
        message:
          type: string
          description: 에러 메시지
          default: null

    ErrorResponse:
      type: object
      properties:
        status:
          type: string
          description: 응답 결과 상태
        code:
          type: string
          description: 에러 코드
        message:
          type: string
          description: 에러 메시지

    V1ZoneData:
      type: object
      properties:
        zoneId:
          $ref: '#/components/schemas/zoneId'
        zoneAlias:
          $ref: '#/components/schemas/zoneAlias'
        threshold:
          $ref: '#/components/schemas/threshold'
        groupId:
          $ref: '#/components/schemas/zoneGroupId'
        groupName:
          $ref: '#/components/schemas/zoneGroupName'
        status:
          $ref: '#/components/schemas/zoneStatus'
        activationTime:
          $ref: '#/components/schemas/activationTime'
        created:
          $ref: '#/components/schemas/created'
        updated:
          $ref: '#/components/schemas/updated'

    V1ZoneMonitoringData:
      type: object
      properties:
        zoneId:
          $ref: '#/components/schemas/zoneId'
        zoneAlias:
          $ref: '#/components/schemas/zoneAlias'
        threshold:
          $ref: '#/components/schemas/threshold'
        status:
          $ref: '#/components/schemas/zoneStatus'
        activationTime:
          $ref: '#/components/schemas/activationTime'
        created:
          $ref: '#/components/schemas/created'
        updated:
          $ref: '#/components/schemas/updated'
        waiting:
          type: object
          properties:
            entryCount:
              $ref: '#/components/schemas/entryCount'
            waitingCount:
              $ref: '#/components/schemas/waitingCount'
            estimatedClearTime:
              $ref: '#/components/schemas/estimatedClearTime'

    ##### request/response schema start
    V1CreateZoneRequest:
      type: object
      required:
        - zoneAlias
        - threshold
      properties:
        zoneId:
          $ref: '#/components/schemas/zoneId'
        zoneAlias:
          $ref: '#/components/schemas/zoneAlias'
        threshold:
          $ref: '#/components/schemas/threshold'
        groupId:
          $ref: '#/components/schemas/zoneGroupId'
        status:
          $ref: '#/components/schemas/zoneStatus'
        activationTime:
          $ref: '#/components/schemas/activationTime'

    V1CreateZoneResponse:
      type: object
      required:
        - zoneId
        - result
      properties:
        zoneId:
          $ref: '#/components/schemas/zoneId'
        result:
          $ref: '#/components/schemas/ResultResponse'

    V1FindZoneResponse:
      type: object
      required:
        - data
        - result
      properties:
        data:
          $ref: '#/components/schemas/V1ZoneData'
        result:
          $ref: '#/components/schemas/ResultResponse'

    V1FindAllZoneResponse:
      type: object
      required:
        - pageable
        - content
        - result
      properties:
        pageable:
          $ref: '#/components/schemas/pageable'
        content:
          type: array
          items:
            $ref: '#/components/schemas/V1ZoneData'
        result:
          $ref: '#/components/schemas/ResultResponse'

    V1UpdateZoneRequest:
      type: object
      properties:
        zoneAlias:
          $ref: '#/components/schemas/zoneAlias'
        threshold:
          $ref: '#/components/schemas/threshold'
        groupId:
          $ref: '#/components/schemas/zoneGroupId'
        status:
          $ref: '#/components/schemas/updateZoneStatus'
        activationTime:
          $ref: '#/components/schemas/activationTime'

    V1UpdateZoneResponse:
      type: object
      required:
        - zoneId
        - result
      properties:
        zoneId:
          $ref: '#/components/schemas/zoneId'
        result:
          $ref: '#/components/schemas/ResultResponse'

    V1DeleteZoneResponse:
      type: object
      required:
        - result
      properties:
        result:
          $ref: '#/components/schemas/ResultResponse'

    V1ClearZoneCacheRequest:
      type: object
      properties:
        zoneIds:
          type: array
          items:
            $ref: '#/components/schemas/zoneId'

    V1ClearZoneCacheResponse:
      type: object
      required:
        - result
      properties:
        result:
          $ref: '#/components/schemas/ResultResponse'

    V1ZoneMonitoringResponse:
      type: object
      required:
        - content
        - result
      properties:
        content:
          type: array
          items:
            $ref: '#/components/schemas/V1ZoneMonitoringData'
        result:
          $ref: '#/components/schemas/ResultResponse'

    V1MemberData:
      type: object
      properties:
        memberId:
          $ref: '#/components/schemas/memberId'
        loginId:
          $ref: '#/components/schemas/loginId'
        password:
          $ref: '#/components/schemas/password'
        name:
          $ref: '#/components/schemas/memberName'
        email:
          $ref: '#/components/schemas/email'
        team:
          $ref: '#/components/schemas/team'
        role:
          $ref: '#/components/schemas/memberRole'
        status:
          $ref: '#/components/schemas/memberStatus'
        lastLoginAt:
          $ref: '#/components/schemas/lastLoginAt'
        created:
          $ref: '#/components/schemas/created'
        updated:
          $ref: '#/components/schemas/updated'

    V1CreateMemberRequest:
      type: object
      required:
        - loginId
        - password
        - name
        - email
        - team
        - role
      properties:
        loginId:
          $ref: '#/components/schemas/loginId'
        password:
          $ref: '#/components/schemas/password'
        name:
          $ref: '#/components/schemas/memberName'
        email:
          $ref: '#/components/schemas/email'
        team:
          $ref: '#/components/schemas/team'
        role:
          $ref: '#/components/schemas/memberRole'

    V1CreateMemberResponse:
      type: object
      required:
        - memberId
        - result
      properties:
        memberId:
          $ref: '#/components/schemas/memberId'
        result:
          $ref: '#/components/schemas/ResultResponse'

    V1FindMemberResponse:
      type: object
      required:
        - data
        - result
      properties:
        data:
          $ref: '#/components/schemas/V1MemberData'
        result:
          $ref: '#/components/schemas/ResultResponse'

    V1FindAllMemberResponse:
      type: object
      required:
        - pageable
        - content
        - result
      properties:
        pageable:
          $ref: '#/components/schemas/pageable'
        content:
          type: array
          items:
            $ref: '#/components/schemas/V1MemberData'
        result:
          $ref: '#/components/schemas/ResultResponse'

    V1UpdateMemberRequest:
      type: object
      properties:
        loginId:
          $ref: '#/components/schemas/loginId'
        password:
          $ref: '#/components/schemas/password'
        name:
          $ref: '#/components/schemas/memberName'
        email:
          $ref: '#/components/schemas/email'
        team:
          $ref: '#/components/schemas/team'
        role:
          $ref: '#/components/schemas/memberRole'
        status:
          $ref: '#/components/schemas/memberStatus'
        lastLoginAt:
          $ref: '#/components/schemas/lastLoginAt'

    V1UpdateMemberResponse:
      type: object
      required:
        - memberId
        - result
      properties:
        memberId:
          $ref: '#/components/schemas/memberId'
        result:
          $ref: '#/components/schemas/ResultResponse'

    V1MemberLogData:
      type: object
      properties:
        memberId:
          $ref: '#/components/schemas/memberId'
        loginId:
          $ref: '#/components/schemas/loginId'
        name:
          $ref: '#/components/schemas/memberName'
        zoneLog:
          $ref: '#/components/schemas/V1MemberZoneLogData'
        created:
          $ref: '#/components/schemas/created'
        updated:
          $ref: '#/components/schemas/updated'

    V1MemberZoneLogData:
      type: object
      properties:
        logType:
          $ref: '#/components/schemas/memberLogType'
        zoneId:
          $ref: '#/components/schemas/zoneId'
        zoneAlias:
          $ref: '#/components/schemas/zoneAlias'
        threshold:
          $ref: '#/components/schemas/threshold'
        zoneStatus:
          $ref: '#/components/schemas/zoneStatus'
        activationTime:
          $ref: '#/components/schemas/activationTime'
        created:
          $ref: '#/components/schemas/created'
        updated:
          $ref: '#/components/schemas/updated'

    V1FindMemberLogListResponse:
      type: object
      required:
        - pageable
        - content
        - result
      properties:
        pageable:
          $ref: '#/components/schemas/pageable'
        content:
          type: array
          items:
            $ref: '#/components/schemas/V1MemberLogData'
        result:
          $ref: '#/components/schemas/ResultResponse'

    V1ZoneGroupData:
      type: object
      properties:
        groupId:
          $ref: '#/components/schemas/zoneGroupId'
        groupName:
          $ref: '#/components/schemas/zoneGroupName'
        groupOrder:
          $ref: '#/components/schemas/zoneGroupOrder'
        groupStatus:
          $ref: '#/components/schemas/zoneGroupStatus'
        created:
          $ref: '#/components/schemas/created'
        updated:
          $ref: '#/components/schemas/updated'

    V1CreateZoneGroupRequest:
      type: object
      required:
        - groupName
      properties:
        groupName:
          $ref: '#/components/schemas/zoneGroupName'
        groupOrder:
          $ref: '#/components/schemas/zoneGroupOrder'

    V1CreateZoneGroupResponse:
      type: object
      required:
        - groupId
        - result
      properties:
        groupId:
          $ref: '#/components/schemas/zoneGroupId'
        result:
          $ref: '#/components/schemas/ResultResponse'

    V1FindZoneGroupResponse:
      type: object
      required:
        - data
        - result
      properties:
        data:
          $ref: '#/components/schemas/V1ZoneGroupData'
        result:
          $ref: '#/components/schemas/ResultResponse'

    V1FindZoneGroupListResponse:
      type: object
      required:
        - content
        - result
      properties:
        content:
          type: array
          items:
            $ref: '#/components/schemas/V1ZoneGroupData'
        result:
          $ref: '#/components/schemas/ResultResponse'

    V1UpdateZoneGroupRequest:
      type: object
      properties:
        groupName:
          $ref: '#/components/schemas/zoneGroupName'
        groupOrder:
          $ref: '#/components/schemas/zoneGroupOrder'

    V1UpdateZoneGroupResponse:
      type: object
      required:
        - groupId
        - result
      properties:
        groupId:
          $ref: '#/components/schemas/zoneGroupId'
        result:
          $ref: '#/components/schemas/ResultResponse'

    V1DeleteZoneGroupResponse:
      type: object
      required:
        - result
      properties:
        result:
          $ref: '#/components/schemas/ResultResponse'